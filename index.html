<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UZUN DIZAYN | Mimarlık & Tasarım</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- 1. CSS DEĞİŞKENLERİ --- */
        :root {
            /* LIGHT MODE */
            --bg-color: #f8f8f8;
            --text-color: #1a1a1a;
            --card-bg: #ffffff;
            --accent: #d4af37; /* Altın */
            --border: #e0e0e0;
            --header-bg: rgba(255, 255, 255, 0.95);
            --control-bg: #ffffff;
            --footer-bg: #e6e6e6;
            --line-color: #d4af37;
            --transition: 0.4s ease;
        }

        /* DARK MODE */
        body.dark-mode {
            --bg-color: #050505;
            --text-color: #f0f0f0;
            --card-bg: #141414;
            --border: #333333;
            --header-bg: rgba(5, 5, 5, 0.95);
            --control-bg: #0a0a0a;
            --footer-bg: #111111;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            transition: background-color var(--transition), color var(--transition);
            overflow-x: hidden;
        }

        /* --- 3D PARTİKÜL ARKAPLANI --- */
        #webgl-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            z-index: -1; opacity: 1; pointer-events: none;
        }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; width: 100%; height: 70px;
            padding: 0 5%;
            display: flex; justify-content: space-between; align-items: center;
            background: var(--header-bg); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border); z-index: 1000;
            transition: var(--transition);
        }

        .logo { font-size: 1.4rem; font-weight: 800; letter-spacing: -0.5px; }
        .logo span { color: var(--accent); }

        /* Masaüstü Menü */
        nav ul { display: flex; gap: 30px; list-style: none; }
        nav ul li a { text-decoration: none; color: var(--text-color); font-weight: 500; font-size: 0.9rem; transition: 0.3s; }
        nav ul li a:hover { color: var(--accent); }

        /* Mobil Menü Butonu */
        .mobile-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--text-color); }

        /* --- KONTROL BARI (Canvas Arkada) --- */
        .controls-bar {
            position: relative; /* Canvas için referans */
            margin-top: 70px; /* Header kadar boşluk */
            padding: 0 5%;
            height: 100px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border);
            background: var(--control-bg);
            transition: var(--transition);
            overflow: hidden;
        }

        /* Canvas (Çizgiler) - Butonların Arkasında */
        #lineCanvas {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1; /* En altta ama arkaplanın üstünde */
            pointer-events: none;
        }

        /* Butonlar (Canvas'ın Üstünde) */
        .control-item {
            position: relative; z-index: 10; /* Canvas'ın üstüne çık */
        }

        .theme-btn {
            background: var(--card-bg); border: 1px solid var(--border);
            color: var(--text-color); padding: 10px 20px; border-radius: 30px;
            cursor: pointer; display: flex; align-items: center; gap: 10px;
            font-weight: 600; font-size: 0.8rem; transition: 0.3s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .theme-btn:hover { border-color: var(--accent); color: var(--accent); transform: translateY(-2px); }

        .lighting-switch {
            display: flex; align-items: center; gap: 15px;
            background: var(--card-bg); padding: 8px 20px;
            border-radius: 50px; border: 1px solid var(--border);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .switch-label { font-size: 0.8rem; font-weight: 700; color: var(--text-color); }
        
        .switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent); }
        input:checked + .slider:before { transform: translateX(24px); }

        /* --- GALERİ --- */
        .gallery-section { padding: 60px 5%; min-height: 80vh; }
        .gallery-intro { text-align: center; margin-bottom: 50px; position: relative; z-index: 5; }
        .gallery-intro h1 { font-size: 2.5rem; margin-bottom: 15px; }
        .gallery-intro p { max-width: 600px; margin: 0 auto; opacity: 0.7; }

        .photo-grid {
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px;
            position: relative; z-index: 5;
        }

        .photo-card {
            position: relative; aspect-ratio: 3/4;
            border-radius: 12px; overflow: hidden;
            background: #000; border: 1px solid var(--border);
        }
        .photo-card img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; transition: opacity 0.8s ease-in-out;
        }
        .img-day { z-index: 1; opacity: 1; }
        .img-night { z-index: 2; opacity: 0; }
        body.night-mode-active .img-night { opacity: 1; }

        .card-info {
            position: absolute; bottom: 15px; left: 15px; z-index: 3;
            background: rgba(0,0,0,0.6); padding: 5px 15px;
            border-radius: 20px; color: #fff; font-size: 0.8rem;
            backdrop-filter: blur(5px);
        }

        /* --- FOOTER --- */
        footer {
            background-color: var(--footer-bg); padding: 60px 5%;
            border-top: 1px solid var(--border); margin-top: 50px;
            position: relative; z-index: 5;
        }
        .footer-grid { display: grid; grid-template-columns: 1fr 1.5fr; gap: 50px; }
        .footer-info h3 { margin-bottom: 20px; color: var(--accent); }
        .footer-info p { margin-bottom: 15px; display: flex; align-items: center; gap: 10px; opacity: 0.8; }
        .map-container { width: 100%; height: 300px; background: #333; border-radius: 10px; overflow: hidden; filter: grayscale(100%); }
        .copyright { text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid var(--border); opacity: 0.5; font-size: 0.9rem; }

        /* --- RESPONSIVE CSS --- */
        @media (max-width: 1024px) {
            .photo-grid { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            /* Header & Menu */
            .mobile-toggle { display: block; }
            nav {
                position: fixed; top: 70px; left: -100%;
                width: 100%; height: calc(100vh - 70px);
                background: var(--bg-color);
                display: flex; justify-content: center; align-items: center;
                transition: 0.3s; border-top: 1px solid var(--border);
            }
            nav.active { left: 0; }
            nav ul { flex-direction: column; text-align: center; font-size: 1.2rem; gap: 40px; }

            /* Controls Bar */
            .controls-bar {
                flex-direction: column; height: auto;
                padding: 20px 5%; gap: 15px;
            }
            #lineCanvas { opacity: 0.5; } /* Mobilde çizgiyi biraz silik yap */

            /* Grid */
            .photo-grid { grid-template-columns: 1fr; }
            
            /* Footer */
            .footer-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <!-- 3D Arkaplan -->
    <div id="webgl-container"></div>

    <!-- Header -->
    <header>
        <div class="logo">UZUN <span>DIZAYN</span></div>
        <div class="mobile-toggle" onclick="toggleMenu()"><i class="fas fa-bars"></i></div>
        <nav id="navMenu">
            <ul>
                <li><a href="#" onclick="toggleMenu()">Anasayfa</a></li>
                <li><a href="#" onclick="toggleMenu()">Kurumsal</a></li>
                <li><a href="#" onclick="toggleMenu()">Projeler</a></li>
                <li><a href="#" onclick="toggleMenu()">Blog</a></li>
                <li><a href="#" onclick="toggleMenu()">İletişim</a></li>
            </ul>
        </nav>
    </header>

    <!-- Kontrol Barı (Çizgi Arkada, Butonlar Üstte) -->
    <div class="controls-bar">
        <!-- Canvas Arkada -->
        <canvas id="lineCanvas"></canvas>

        <!-- SOL: Tema -->
        <div class="control-item">
            <button class="theme-btn" onclick="toggleSiteTheme()">
                <i class="fas fa-adjust"></i> <span id="themeText">KOYU MODA GEÇ</span>
            </button>
        </div>

        <!-- SAĞ: Işıklandırma -->
        <div class="control-item">
            <div class="lighting-switch">
                <span class="switch-label"><i class="fas fa-sun"></i> GÜNDÜZ</span>
                <label class="switch">
                    <input type="checkbox" id="lightingToggle" onchange="toggleLighting()">
                    <span class="slider"></span>
                </label>
                <span class="switch-label"><i class="fas fa-lightbulb"></i> GECE</span>
            </div>
        </div>
    </div>

    <!-- Galeri -->
    <div class="gallery-section">
        <div class="gallery-intro">
            <h1>Etkileşimli Deneyim</h1>
            <p>Mekanların ruhunu ışıkla değiştirin.</p>
        </div>

        <div class="photo-grid">
            <!-- 1. KART -->
            <div class="photo-card">
                <img src="media\3.0.jpg" class="img-day" alt="Gündüz">
                <img src="media\3.1.png" class="img-night" alt="Gece">
                <div class="card-info">Salon</div>
            </div>
            <!-- 2. KART -->
            <div class="photo-card">
                <img src="media\2.0.jpg" class="img-day" alt="Gündüz">
                <img src="Cmedia\2.1.png" class="img-night" alt="Gece">
                <div class="card-info">Mutfak</div>
            </div>
            <!-- 3. KART -->
            <div class="photo-card">
                <img src="media\4.0.jpg" class="img-day" alt="Gündüz">
                <img src="media\4.1.png" class="img-night" alt="Gece">
                <div class="card-info">Oturma Odası</div>
            </div>
            <!-- 4. KART -->
            <div class="photo-card">
                <img src="media\5.0.jpg" class="img-day" alt="Gündüz">
                <img src="media\5.1.png" class="img-night" alt="Gece">
                <div class="card-info">Yatak Odası</div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-grid">
            <div class="footer-info">
                <h3>UZUN DIZAYN</h3>
                <p>Estetik ve fonksiyonun mükemmel uyumu.</p>
                <br>
                <p><i class="fas fa-map-marker-alt"></i> Levent Mah. Büyükdere Cad. No:123, İstanbul</p>
                <p><i class="fas fa-phone"></i> +90 212 345 67 89</p>
                <p><i class="fas fa-envelope"></i> info@uzundizayn.com</p>
            </div>
            <div class="map-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3008.384666333464!2d29.01257321744384!3d41.0610363!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14cab61386d52549%3A0xc023f2711094025a!2sLevent%2C%20Be%C5%9Fikta%C5%9F%2F%C4%B0stanbul!5e0!3m2!1str!2str!4v1698330000000!5m2!1str!2str" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
        <div class="copyright">&copy; 2024 UZUN DIZAYN. Tüm hakları saklıdır.</div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // --- 1. MOBİL MENÜ ---
        function toggleMenu() {
            document.getElementById('navMenu').classList.toggle('active');
        }

        // --- 2. SİTE TEMASI VE SENKRONİZASYON ---
        function toggleSiteTheme() {
            const body = document.body;
            const text = document.getElementById('themeText');
            const lightToggle = document.getElementById('lightingToggle');

            body.classList.toggle('dark-mode');

            if (body.classList.contains('dark-mode')) {
                text.innerText = "AÇIK MODA GEÇ";
                lightToggle.checked = true; // Otomatik Gece Modu
                toggleLighting();
                if(particles) particles.material.color.setHex(0xffd700);
            } else {
                text.innerText = "KOYU MODA GEÇ";
                lightToggle.checked = false; // Otomatik Gündüz Modu
                toggleLighting();
                if(particles) particles.material.color.setHex(0xd4af37);
            }
        }

        // --- 3. IŞIKLANDIRMA ---
        function toggleLighting() {
            const toggle = document.getElementById('lightingToggle');
            const body = document.body;
            if (toggle.checked) body.classList.add('night-mode-active');
            else body.classList.remove('night-mode-active');
        }

        // --- 4. HAREKETLİ ÇİZGİLER (AŞIRI YAVAŞ & TAM EKRAN) ---
        const canvas = document.getElementById('lineCanvas');
        const ctx = canvas.getContext('2d');
        let width, height;

        function resizeCanvas() {
            // Parent elementin (Controls Bar) tam boyutunu al
            width = canvas.width = canvas.parentElement.offsetWidth;
            height = canvas.height = canvas.parentElement.offsetHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        let time = 0;
        function animateLines() {
            ctx.clearRect(0, 0, width, height);
            
            ctx.lineWidth = 1;
            
            // Çizgi 1
            ctx.beginPath();
            ctx.strokeStyle = '#d4af37'; 
            for (let x = 0; x < width; x++) {
                // time * 0.5 yerine 0.05 (Aşırı Yavaş)
                // x * 0.01 (Geniş dalga)
                const y = height / 2 + Math.sin(x * 0.01 + time) * 20 * Math.sin(time * 0.5);
                ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Çizgi 2 (Sarmal)
            ctx.beginPath();
            ctx.strokeStyle = 'rgba(212, 175, 55, 0.4)'; 
            for (let x = 0; x < width; x++) {
                const y = height / 2 + Math.cos(x * 0.01 + time) * 20 * Math.sin(time * 0.5);
                ctx.lineTo(x, y);
            }
            ctx.stroke();

            time += 0.002; // AŞIRI YAVAŞLATILMIŞ HIZ
            requestAnimationFrame(animateLines);
        }
        animateLines();

        // --- 5. THREE.JS PARTİKÜLLER ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('webgl-container').appendChild(renderer.domElement);

        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 800;
        const posArray = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 25; 
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.04, color: 0xd4af37, transparent: true, opacity: 0.6,
        });
        const particles = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particles);
        camera.position.z = 8;

        let scrollY = 0;
        window.addEventListener('scroll', () => { scrollY = window.scrollY; });

        function animate() {
            requestAnimationFrame(animate);
            particles.rotation.y = scrollY * 0.0001; // Scroll ile yavaş dönüş
            particles.rotation.x += 0.0002; // Kendi kendine dönüş
            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>